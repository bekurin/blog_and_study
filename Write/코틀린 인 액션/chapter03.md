## 3μ¥ ν•¨μ μ •μμ™€ νΈμ¶

λ‹¤μμ€ μ½”ν‹€λ¦°μ Collection κ°μ²΄μ κ° μ›μ†λ“¤μ„ ν•©μ³ ν•λ‚μ λ¬Έμμ—΄λ΅ λ°ν™ν•λ” ν•¨μμ΄λ‹¤.
~~~kotlin
fun <T> Collection<T>.joinToString(
	separator: String = " ",
	prefix: String = "",
	postfix: String = ""
): String {
	val result = StringBuilder(prefix)
	for((index, element) in this.withIndex()) {
		if (index > 0) result.append(separator)
		result.append(element)
	}
	result,append(postfix)
	return result.toString()
}

>> val item = listOf(1,2,3)
>> item.joinToString()
>> 1 2 3
>> item.joinToString(separator = ", ")
>> 1, 2, 3
>> item.joinToString(separator = ", ", prefix = "{", postfix = "}")
>> {1, 2, 3}
~~~

μ„ μ½”λ“λ¥Ό μ¤‘μ‹¬μΌλ΅ λ””ν΄νΈ νλΌλ―Έν„°μ™€ ν™•μ¥ ν•¨μμ— λ€ν•΄ μ•μ•„λ³΄κ² λ‹¤.

### λ””ν΄νΈ νλΌλ―Έν„°
---
λ””ν΄νΈ νλΌλ―Έν„°λ” μλ°”μ μ¤λ²„λ΅λ”©μ„ νΈν•κ² κµ¬ν„ν•  μ μλ” λ°©λ²•μΌλ΅ ν•¨μμ νλΌλ―Έν„°μ κΈ°λ³Έκ°’μ„ μ„¤μ •ν•  μ μλ” κ²ƒμ΄λ‹¤. μ„ μ½”λ“μ—μ„ ν™•μΈν•  μ μμ§€λ§ λ””ν΄νΈ νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•λ©΄ separator, prefix, postfix μ¤‘μ— λ³€κ²½ν•κ³  μ‹¶μ€ κ°’λ§ μ„ νƒν•μ—¬ λ³€κ²½ν•λ” κ²ƒμ΄ κ°€λ¥ν•λ‹¤.

μλ°”μ—μ„λ” λ””ν΄νΈ νλΌλ―Έν„°μ™€ κ°™μ΄ λ™μ‘ν•κ² ν•κΈ° μ„ν•΄μ„λ” μƒλ‹Ήν λ§μ€ μ¤λ²„λ΅λ”© ν•¨μλ¥Ό λ§λ“¤μ–΄μ•Ό ν•μ§€λ§ μ½”ν‹€λ¦°μ—μ„λ” λ‹¨ 1κ°μ ν•¨μλ§μ„ κµ¬ν„ν•λ” κ²ƒμΌλ΅ κ°€λ¥ν•λ‹¤.

### ν™•μ¥ ν•¨μ
---
ν™•μ¥ ν•¨μλ¥Ό kotlin in actionμ—μ„λ” λ‹¤μκ³Ό κ°™μ΄ μ •μν•λ‹¤.
> ν™•μ¥ ν•¨μλ” μ–΄λ–¤ ν΄λμ¤μ λ©¤λ²„ λ©”μ„λ“μΈ κ²ƒμ²λΌ νΈμ¶ν•  μ μμ§€λ§ κ·Έ ν΄λμ¤μ λ°–μ— μ„ μ–Έλ ν•¨μλ‹¤.
> kotlin in action p.115

kotlin in actionμ μ •μλ€λ΅ ν™•μ¥ ν•¨μλ” ν΄λμ¤ λ°–μ—μ„ μ •μν•κΈ° λ•λ¬Έμ— ν΄λμ¤ λ‚΄μ— μ„ μ–Έλ private, protected λ³€μμ— λ€ν•΄ μ ‘κ·Όν•  μ μ—†λ‹¤.

ν™•μ¥ ν•¨μμ μ΄ν•΄ν•κΈ° μ„ν•΄ λ‹¤μκ³Ό κ°™μ€ μ”κµ¬μ‚¬ν•­μ΄ λ°μƒν–λ‹¤κ³  κ°€μ •ν•κ² λ‹¤. 
 μ”κµ¬μ‚¬ν•­: μ •μν• collectionμ„ μ…λ ¥ λ°›μ•μ„ λ• λ¨λ“  μ›μ†μ μΈλ±μ¤μ™€ μ›μ†λ¥Ό μ¶λ ¥ν•λ” κΈ°λ¥

λ‹¤μμ€ μ”κµ¬μ‚¬ν•­μ„ κµ¬ν„ν• μ½”λ“μ΄λ‹¤.
```kotlin
fun Collection<Int>.printAll(): Unit {  
    for ((index, element) in this.withIndex()) {  
        println("Collection<Int>.get($index) = $element")  
    }  
}

>> val list = listOf(1,2,3,4,5)
>> list.printAll()
>> Collection<Int>.get(0) = 1
>> Collection<Int>.get(1) = 2
>> Collection<Int>.get(2) = 3
>> Collection<Int>.get(3) = 4
>> Collection<Int>.get(4) = 5
```

μ„μ μ½”λ“λ” λ¨λ“  μ •μν• collectionμ— μ μ©λλ‹¤. μ΄ν•΄ν•κΈ° μ„ν•΄μ„λ” μμ‹  κ°μ²΄ νƒ€μ…κ³Ό μμ‹  κ°μ²΄μ— λ€ν•΄ μ•μ•„μ•Όν•λ‹¤. λ‹¤μμ€ 2 κ°λ…μ— λ€ν• μ„¤λ…μ΄λ‹¤.
- μμ‹  κ°μ²΄ νƒ€μ…μ€ printAll()μ΄λΌλ” ν™•μ¥ ν•¨μλ¥Ό μ μ©μ‹ν‚¬ λ²”μ„μ— ν•΄λ‹Ήν•λ‹¤. λ”°λΌμ„ μ„ μ½”λ“μ™€ κ°™μ΄ collection<Int>λ¥Ό μμ‹  κ°μ²΄ νƒ€μ…μ„ μ§€μ •ν–λ‹¤λ©΄ λ¨λ“  μ •μν• collectionμ΄ ν‘ν„λ κ²ƒμ΄λ‹¤.
- μμ‹  κ°μ²΄λ” ν™•μ¥ ν•¨μμ—μ„ νΈμ¶λλ” λ€μƒμ κ°’μΌλ΅ κ°λ°μμ— μν•΄ κ²°μ •λλ‹¤. μ„ μ½”λ“μ—μ„ listμ™€ κ°™μ΄ ν™•μ¥ ν•¨μλ¥Ό μ μ©μ‹ν‚¬ κ°’μ„ λ§ν•λ‹¤.

π¥• ν™•μ¥ ν•¨μλ” μ™Έλ¶€ λΌμ΄λΈλ¬λ¦¬ μ‚¬μ©ν•  λ• κ³ λ―Όν•΄λ³΄λ©΄ μΆ‹μ„ κ²ƒ κ°™λ‹¤. μλ¥Ό λ“¤μ–΄ JPAμ findById ν•¨μμ—μ„ μμ™Έμ²λ¦¬λ¥Ό μ¶”κ°€ν•΄μ•Όν•λ‹¤λ©΄ getByIdOrThrow, findByIdOrThrowμ™€ κ°™μ€ ν™•μ¥ ν•¨μλ¥Ό κµ¬ν„ν•μ—¬ μ‰½κ² μ”κµ¬μ‚¬ν•­μ„ ν•΄κ²°ν•  μ μμ„ κ²ƒμ΄λ‹¤.

ν™•μ¥ ν•¨μλ” μ™Έλ¶€μ—μ„ μ κ³µν•κ³  μ‹¶μ€ ν•¨μλ¥Ό λ§λ“¤ μ μλ”λ§νΌ νΈλ¦¬ν•μ§€λ§ λ‚¨μ©ν•΄μ„λ” μ•λλ‹¤κ³  μƒκ°ν•λ‹¤. ν΄λμ¤λ¥Ό κ΄€λ¦¬ν•¨μ— μμ–΄ ν™•μ¥ ν•¨μλ” λ¶„λ… ν° νΈμλ¥Ό κ°€μ Έμ¤κ² μ§€λ§ ν•„μ”μ— λ”°λΌ λ¬΄λ¶„λ³„ν•κ² μ‚¬μ©ν•λ‹¤λ©΄ λ°°λ³΄λ‹¤ λ°°κΌ½μ΄ λ” μ»¤μ§€λ” μƒν™©μ΄ λ°μƒν•  μ μμ„ κ²ƒ κ°™λ‹¤.

κ°„λ‹¨ν• μλ΅ μ–΄λ–¤ ν΄λμ¤μ λ©¤λ²„ ν•¨μ 2κ°, ν™•μ¥ ν•¨μ 5κ°κ°€[]() κµ¬ν„λμ–΄ μλ” μƒν™©μ΄ μλ‹¤.